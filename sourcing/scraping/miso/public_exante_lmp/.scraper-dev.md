---
# Scraper Configuration - MISO Public API Ex-Ante LMP

# Required fields
data_source: MISO
data_type: public_exante_lmp
collection_method: HTTP/REST API
data_format: JSON
update_frequency: Real-time (5-min)
historical_support: no
authentication: None

# HTTP/REST API specific
api_base_url: https://public-api.misoenergy.org
api_endpoint: /api/MarketPricing/GetExAnteLmp
api_query_params: startTime,endTime,hub (all optional)
api_rate_limit: No known limits

# Additional metadata
dgroup: miso_public_exante_lmp
collection_pattern: snapshot
time_window: 4 hours (forward-looking)

# Infrastructure version
infrastructure_version: 1.3.0
last_updated: 2025-12-05
---

# MISO Public API Ex-Ante LMP Scraper Configuration

## Data Source Details

**Organization**: MISO (Midcontinent Independent System Operator)
**API Type**: Public REST API
**Authentication**: None required
**Endpoint**: https://public-api.misoenergy.org/api/MarketPricing/GetExAnteLmp

## Collection Strategy

This scraper collects real-time forward-looking LMP snapshots from MISO's Public API. Each execution fetches the current price snapshot for the next 4 hours, covering all market hubs.

### Key Characteristics

- **Update Frequency**: Every 5 minutes
- **Time Window**: Forward-looking 4 hours
- **Collection Pattern**: Snapshot-based (single snapshot per run)
- **Data Volume**: ~5-10 hubs per snapshot
- **Use Case**: Intraday trading, real-time price monitoring

## Query Parameters (Optional)

- `startTime`: ISO-8601 datetime (e.g., "2025-12-05T14:30:00Z")
- `endTime`: ISO-8601 datetime (max 4-hour window from startTime)
- `hub`: Market hub identifier (e.g., "CINERGY", "MINN", "AECI")

## Scheduling Recommendations

- **Production**: Run every 5 minutes
- **Development**: Run every 15 minutes
- **Testing**: Manual execution as needed

## Response Structure

```json
{
  "timestamp": "ISO 8601 datetime",
  "updateInterval": "5m",
  "hubs": [
    {
      "name": "Hub identifier",
      "lmp": "Total LMP in $/MWh",
      "components": {
        "energy": "Energy cost component",
        "congestion": "Congestion cost component",
        "losses": "Losses cost component"
      }
    }
  ]
}
```

## Validation Rules

1. **Structure**: Must have timestamp, updateInterval, hubs
2. **Timestamp**: Valid ISO 8601 format
3. **Update Interval**: Must be "5m"
4. **Hubs**: Must be array (empty is valid - no data)
5. **Hub Fields**: name (non-empty string), lmp (numeric), components (object)
6. **Components**: energy, congestion, losses (all numeric)
7. **LMP Arithmetic**: lmp = energy + congestion + losses (tolerance: 0.01)
8. **Price Range**: No bounds - negative values allowed

## Storage

- **S3 Path**: `s3://{bucket}/sourcing/miso_public_exante_lmp/{YYYY}/{MM}/{DD}/public_exante_lmp_{YYYYMMDD_HHMM}.json.gz`
- **Compression**: gzip
- **Deduplication**: Redis hash-based
- **Retention**: Indefinite (subject to S3 lifecycle policies)

## Monitoring

- Alert if no new data for 30 minutes
- Alert if validation failure rate exceeds 5%
- Monitor duplicate rate (normal: <5%)
- Track API response times (normal: <5 seconds)
- Monitor LMP arithmetic validation failures

## Related Scrapers

- **da_exante_lmp**: Day-ahead forecasts (CSV, daily historical)
- **da_exante_lmp_api**: Day-ahead forecasts (API, daily historical)
- **rt_expost_lmp**: Real-time actual prices (5-min intervals)
- **snapshot**: General grid status metrics

## Differences from Other LMP Sources

| Source | Type | Window | Update | Use Case |
|--------|------|--------|--------|----------|
| **public_exante_lmp** | Forecast | Next 4h | 5-min | Intraday trading |
| da_exante_lmp | Forecast | Day-ahead | Daily | Pre-market planning |
| rt_expost_lmp | Actual | Past | 5-min | Settlement, actual outcomes |
